(t=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):globalThis.TD=t()})((()=>{"use strict";const t="object"==typeof window,e=!t&&"object"==typeof process,i=(()=>{let e=Object.prototype.toString;if(t){const t=document.body;t.insertAdjacentHTML("afterbegin",'<iframe style="display:none !important;"></iframe>');const i=document.querySelector("body > iframe:first-child");e=i.contentWindow.Object.prototype.toString,t.removeChild(i)}return e})();function s(t){return i.call(t).slice(8,-1).toLowerCase()}function a(t,e=!1){return"function"==typeof t&&(!!/^(function|generatorfunction|asyncfunction)+$/.test(s(t))&&!(!e&&t.toString().startsWith("class")))}function r(t){return!(!t||"object"!=typeof t)}function n(t){if(!r(t))return!1;if("object"!==s(t))return!1;const e=Object.getPrototypeOf(t);if(null===e)return!0;const i=e.constructor;return a(i)&&Object.hasOwn.toString.call(i)===Object.hasOwn.toString.call(Object)}function o(t){return"string"==typeof t&&"string"===s(t)&&new String(t).valueOf()===t&&Number.isSafeInteger(t.length)&&t.length>=0}class h{constructor(t){this.data=t,this.typeIs=s(t)}isFunction(t){return a(this.data,t)}isString(){return o(this.data)}isArray(){return Array.isArray(this.data)}isBoolean(){return"boolean"==typeof this.data&&"boolean"===this.typeIs&&new Boolean(this.data).valueOf()===this.data}isSymbol(){if("symbol"!=typeof this.data||"symbol"!==this.typeIs)return!1;const t=Object.create(null);return t[this.data]=1,1===Object.getOwnPropertySymbols(t).length}isBigInt(){return"bigint"==typeof this.data&&"bigint"===this.typeIs}isUndefined(){return void 0===this.data&&"undefined"===this.typeIs&&void 0===this.data}isNull(){return"object"==typeof this.data&&"null"===this.typeIs&&null===this.data}isNil(){return this.isNull()||this.isUndefined()}isNumber(){return"number"==typeof this.data&&"number"===this.typeIs&&new Number(this.data).valueOf()===this.data}isInt(){return this.isNumber()&&Number.isSafeInteger(this.data)}isFloat(){return this.isNumber()&&(this.data<Number.MAX_SAFE_INTEGER||this.data>Number.MIN_SAFE_INTEGER)&&!Number.isInteger(this.data)&&this.data.toString().includes(".")}isNaN(){return Number.isNaN(this.data)}isFinite(){return Number.isFinite(this.data)}isSet(){return r(this.data)&&"set"===this.typeIs&&this.data instanceof Set&&Number.isSafeInteger(this.data.size)&&this.data.size>=0&&this.data.constructor.toString().startsWith("function Set()")}isWeakSet(){return!(!r(this.data)||"weakset"!==this.typeIs)}isMap(){return r(this.data)&&"map"===this.typeIs&&this.data instanceof Map&&Number.isSafeInteger(this.data.size)&&this.data.size>=0&&this.data.constructor.toString().startsWith("function Map()")}isWeakMap(){return!(!r(this.data)||"weakmap"!==this.typeIs)}isPlainObject(){return n(this.data)}isObject(){return"object"==typeof this.data}isElement(){return!!t&&(!(!this.data||"object"!=typeof this.data)&&(!(1!==this.data.nodeType||!/^[a-z]+[-]?[a-z]+$/.test(this.data.nodeName?.toLowerCase()))&&(!!this.typeIs.startsWith("html")&&this.data instanceof HTMLElement)))}isWindow(){if(!t)return!1;if("window"!==this.typeIs)return!1;if(this.data!==window||this.data.self!==window||this.data.window!==window||this.data.frames!==window||this.data.document!==document)return!1;const[e,i]=[new Set(Reflect.ownKeys(window)),new Set(Reflect.ownKeys(this.data))];if(e.size!==i.size)return!1;return!(s=e,a=i,Set.prototype.difference?s.difference(a):new Set([...s].filter((t=>!a.has(t))))).size;var s,a}isPromise(){return"promise"===this.typeIs&&(this.data instanceof Promise&&!["then","catch","finally"].filter((t=>!a(this.data[t]))).length)}isClass(){return!!a(this.data,!0)&&this.data.toString().startsWith("class")}isBlob(){return!!t&&("blob"===this.typeIs&&(this.data instanceof Blob&&(!(!Number.isSafeInteger(this.data.size)||this.data.size<0||"string"!=typeof this.data.type)&&this.data.constructor===Blob)))}isArrayBuffer(){return"arraybuffer"===this.typeIs&&(this.data instanceof ArrayBuffer&&(!(!Number.isSafeInteger(this.data.byteLength)||this.data.byteLength<0)&&this.data.constructor===ArrayBuffer))}isBuffer(){return!!e&&(!!a(this.data)&&(this.data instanceof Buffer&&(!(!Number.isSafeInteger(this.data.length)||this.data.length<0)&&this.data.constructor===Buffer)))}isEmptyPlainObject(){return!(!n(this.data)||Reflect.ownKeys(this.data).length)}isEmptyArray(){return!(!Array.isArray(this.data)||this.data.length)}isEmptyString(){return!(!o(this.data)||this.data)}isArrayOnlyIncludePlainObject(){if(!Array.isArray(this.data)||!this.data.length)return!1;let t=!0;for(const e of this.data)if(!n(e)){t=!1;break}return t}type(){const t=[[this.isFunction(),"function"],[this.isString(),"string"],[this.isArray(),"array"],[this.isBoolean(),"boolean"],[this.isSymbol(),"symbol"],[this.isBigInt(),"bigint"],[this.isUndefined(),"undefined"],[this.isNull(),"null"],[this.isNumber(),"number"],[this.isNaN(),"nan"],[this.isSet(),"set"],[this.isWeakSet(),"weakset"],[this.isMap(),"map"],[this.isWeakMap(),"weakmap"],[this.isPlainObject(),"object"],[this.isWindow(),"window"],[this.isPromise(),"promise"],[this.isClass(),"class"],[this.isBlob(),"blob"],[this.isArrayBuffer(),"arraybuffer"]];let e="";for(const[i,s]of t)if(i){e=s;break}return e||this.typeIs}}return t=>new h(t)}));
